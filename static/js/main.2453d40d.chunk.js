(this["webpackJsonpreact-leaflet-draw-only-one-shape"]=this["webpackJsonpreact-leaflet-draw-only-one-shape"]||[]).push([[0],{46:function(e,t,n){e.exports=n(62)},52:function(e,t,n){},61:function(e,t,n){e.exports=n.p+"static/media/engineer.f8a39b5d.svg"},62:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),l=n(19),r=n.n(l),c=(n(51),n(52),n(27)),i=n(30),u=n(15),s=n(3),g=n(36),m=n(37),f=n(39),d=n(34),p=n(40),b=n(38),v=n(35),E=(n(53),n(54),n(45)),y=(n(32),n(43)),O=n.n(y),h=n(44),j=n(1),S=n.n(j),k=S.a.icon({iconSize:[25,41],iconAnchor:[10,41],popupAnchor:[2,-40],iconUrl:"https://unpkg.com/leaflet@1.6/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.6/dist/images/marker-shadow.png"}),C=new S.a.Icon({iconUrl:n(61),iconSize:[37,45],iconAnchor:[17,46],popupAnchor:[2,-40]}),w=function(e){var t=e.mapLayers,n=e.onStopMoving,a=e.onStartMoving,l=e.onShow;return o.a.createElement("div",{className:"row-info"},o.a.createElement("pre",{className:"text-left"},JSON.stringify(t,0,2)),o.a.createElement("div",null,o.a.createElement("button",{type:"submit",className:"button-get-location button-unmove",onClick:n},"Stop moving"),o.a.createElement("button",{type:"submit",className:"button-get-location button-moving",onClick:a},"Start moving"),o.a.createElement("button",{type:"submit",className:"button-get-location",onClick:l},"Get my location")))};var x=function(){var e=Object(a.useState)({loaded:!1,coordinates:{lat:"",lng:""}}),t=Object(u.a)(e,2),n=t[0],o=t[1],l=function(e){o({loaded:!0,coordinates:{lat:e.coords.latitude,lng:e.coords.longitude}})},r=function(e){o({loaded:!0,error:{code:e.code,message:e.message}})};return Object(a.useEffect)((function(){"geolocation"in navigator||r({code:0,message:"Geolocation not supported"}),navigator.geolocation.getCurrentPosition(l,r)}),[]),n},N=[{lat:16.0742517,lng:108.2186261},{lat:16.07414,lng:108.217333},{lat:16.074088,lng:108.216818},{lat:16.073934,lng:108.216174},{lat:16.073851,lng:108.21525},{lat:16.073665,lng:108.214813},{lat:16.073542,lng:108.21393},{lat:16.072284,lng:108.213139},{lat:16.071665,lng:108.213246},{lat:16.07216,lng:108.216842},{lat:16.072428,lng:108.218439},{lat:16.072773,lng:108.220883},{lat:16.072773,lng:108.220883},{lat:16.074835,lng:108.220603},{lat:16.0742517,lng:108.2186261}],A=Object(s.d)(O.a),_=function(){var e=x(),t=Object(h.usePosition)(),n=t.latitude,l=t.longitude,r=t.error,s=Object(a.useState)({lat:51.51,lng:-.06}),y=Object(u.a)(s,2),O=y[0],j=y[1],S=Object(a.useState)([]),_=Object(u.a)(S,2),z=_[0],L=_[1],M=Object(a.useState)(0),T=Object(u.a)(M,2),J=T[0],P=T[1],G=Object(a.useState)(!1),R=Object(u.a)(G,2),U=R[0],I=R[1],Y=Object(a.useState)([]),B=Object(u.a)(Y,2),D=B[0],Z=B[1],q=Object(a.useRef)(),F=Object(a.useRef)(),H=Object(a.useRef)();Object(a.useEffect)((function(){return"number"===typeof J&&U&&(H.current=setTimeout((function(){P((function(e){return e+1e4}))}),1e3)),function(){clearTimeout(H.current)}})),Object(a.useEffect)((function(){if(n&&l&&!r){if(console.log("latitude",n),console.log("longitude",l),console.log("count",J),!U)return;var e=[],t=J/1e4;if(console.log("indexLocation",t),0===J)e.push(N[J]);else{if(t>=N.length)return I(!1),clearTimeout(H.current);e.push(N[t])}Z([].concat(e,Object(i.a)(D)))}}),[J,U]),Object(a.useEffect)((function(){e.loaded&&e.error||j({lat:e.coordinates.lat,lng:e.coordinates.lng})}),[e]);return o.a.createElement("div",null,o.a.createElement(g.a,{center:{lat:51.51,lng:-.06},zoom:16,ref:q,style:{height:"50vh"}},o.a.createElement(m.a,{position:O,icon:k},o.a.createElement(f.a,null,"You are here.")),D&&D.length>0&&D.map((function(e,t){return JSON.stringify(e)!==JSON.stringify(O)&&o.a.createElement(d.a,{key:t,center:e,fill:!0,color:"#220bb9",radius:3},o.a.createElement(f.a,null,o.a.createElement("b",null,"lat:")," ",null===e||void 0===e?void 0:e.lat," ",o.a.createElement("br",null),o.a.createElement("b",null,"lng:")," ",null===e||void 0===e?void 0:e.lng," ",o.a.createElement("br",null)))})),o.a.createElement(p.a,{url:"https://{s}.google.com/vt/lyrs=s&x={x}&y={y}&z={z}",maxZoom:20,subdomains:["mt1","mt2","mt3"]}),o.a.createElement(b.a,{color:"#220bb9",positions:D}),z&&z.length>0&&z.map((function(e){return e.latlngs.map((function(e,t){return o.a.createElement(m.a,{key:t,position:e,icon:C},o.a.createElement(f.a,null,"You are here.",o.a.createElement("input",{type:"file",id:"myfile",name:"myfile",onChange:function(e){return console.log(e.target.value)}})))}))})),o.a.createElement(A,{ref:F,position:"topleft",sizeModes:["Current","A4Portrait","A4Landscape"],hideControlContainer:!1}),o.a.createElement(A,{position:"topleft",sizeModes:["Current","A4Portrait","A4Landscape"],hideControlContainer:!1,title:"Export as PNG",exportOnly:!0}),o.a.createElement(v.a,null,o.a.createElement(E.a,{position:"topright",onCreated:function(e){console.log(e);var t=e.layerType,n=e.layer;if("polygon"===t){var a=n._leaflet_id;L((function(e){return[].concat(Object(i.a)(e),[{id:a,latlngs:n.getLatLngs()[0]}])}))}},onEdited:function(e){console.log(e);var t=e.layers._layers;Object.values(t).map((function(e){var t=e._leaflet_id,n=e.editing;return L((function(e){return e.map((function(e){return e.id===t?Object(c.a)(Object(c.a)({},e),{},{latlngs:Object(c.a)({},n.latlngs[0])}):e}))}))}))},onDeleted:function(e){console.log(e);var t=e.layers._layers;Object.values(t).map((function(e){var t=e._leaflet_id;return L((function(e){return e.filter((function(e){return e.id!==t}))}))}))},draw:{rectangle:!0,polyline:!0,circle:!0,circlemarker:!0,marker:!0}}))),o.a.createElement(w,{mapLayers:z,onStopMoving:function(){alert("Stop moving!"),clearTimeout(H.current)},onStartMoving:function(){alert("Start moving!"),I(!0)},onShow:function(){e.loaded&&!e.error?(q.current.leafletElement.flyTo([e.coordinates.lat,e.coordinates.lng],16,{animate:!0}),j({lat:e.coordinates.lat,lng:e.coordinates.lng})):alert(e.error.message)}}))},z=function(){return o.a.createElement(_,null)},L=document.getElementById("root");r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(z,null)),L)}},[[46,1,2]]]);
//# sourceMappingURL=main.2453d40d.chunk.js.map