(this["webpackJsonpreact-leaflet-draw-only-one-shape"]=this["webpackJsonpreact-leaflet-draw-only-one-shape"]||[]).push([[0],{45:function(e,t,n){e.exports=n(60)},50:function(e,t,n){},59:function(e,t,n){e.exports=n.p+"static/media/engineer.f8a39b5d.svg"},60:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),l=n(19),r=n.n(l),c=(n(50),n(27)),i=n(30),u=n(16),s=n(3),g=n(35),m=n(36),f=n(38),d=n(39),p=n(37),b=n(34),y=(n(51),n(52),n(44)),E=(n(32),n(42)),O=n.n(E),h=n(43),j=n(1),v=n.n(j),S=v.a.icon({iconSize:[25,41],iconAnchor:[10,41],popupAnchor:[2,-40],iconUrl:"https://unpkg.com/leaflet@1.6/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.6/dist/images/marker-shadow.png"}),k=new v.a.Icon({iconUrl:n(59),iconSize:[37,45],iconAnchor:[17,46],popupAnchor:[2,-40]}),C=Object(s.d)(O.a),w=[{lat:16.0742517,lng:108.2186261},{lat:16.07414,lng:108.217333},{lat:16.074088,lng:108.216818},{lat:16.073934,lng:108.216174},{lat:16.073851,lng:108.21525},{lat:16.073665,lng:108.214813},{lat:16.073542,lng:108.21393},{lat:16.072284,lng:108.213139},{lat:16.071665,lng:108.213246},{lat:16.07216,lng:108.216842},{lat:16.072428,lng:108.218439},{lat:16.072773,lng:108.220883},{lat:16.072773,lng:108.220883},{lat:16.074835,lng:108.220603},{lat:16.0742517,lng:108.2186261}],x=function(){var e=function(){var e=Object(a.useState)({loaded:!1,coordinates:{lat:"",lng:""}}),t=Object(u.a)(e,2),n=t[0],o=t[1],l=function(e){o({loaded:!0,coordinates:{lat:e.coords.latitude,lng:e.coords.longitude}})},r=function(e){o({loaded:!0,error:{code:e.code,message:e.message}})};return Object(a.useEffect)((function(){"geolocation"in navigator||r({code:0,message:"Geolocation not supported"}),navigator.geolocation.getCurrentPosition(l,r)}),[]),n}(),t=Object(a.useState)({lat:51.51,lng:-.06}),n=Object(u.a)(t,2),l=n[0],r=n[1],s=Object(a.useState)([]),E=Object(u.a)(s,2),O=E[0],j=E[1],v=Object(a.useState)(0),x=Object(u.a)(v,2),N=x[0],A=x[1],_=Object(a.useState)(!1),z=Object(u.a)(_,2),T=z[0],J=z[1],L=Object(a.useState)([]),P=Object(u.a)(L,2),G=P[0],M=P[1],R=Object(a.useRef)(),U=Object(a.useRef)(),Y=Object(a.useRef)(),I=Object(h.usePosition)(),B=I.latitude,D=I.longitude,Z=I.error;Object(a.useEffect)((function(){return"number"===typeof N&&T&&(Y.current=setTimeout((function(){A((function(e){return e+1e4}))}),1e3)),function(){clearTimeout(Y.current)}})),Object(a.useEffect)((function(){if(B&&D&&!Z){console.log("latitude",B),console.log("longitude",D),console.log("count",N);var e=[],t=N/1e4;if(console.log("indexLocation",t),0===N)e.push(w[N]);else{if(t===w.length)return clearTimeout(Y.current);e.push(w[t])}M([].concat(e,Object(i.a)(G)))}}),[N,T]),Object(a.useEffect)((function(){e.loaded&&e.error||r({lat:e.coordinates.lat,lng:e.coordinates.lng})}),[e]);return o.a.createElement("div",null,o.a.createElement(g.a,{center:{lat:51.51,lng:-.06},zoom:15,ref:R,style:{height:"50vh"}},o.a.createElement(m.a,{position:l,icon:S},o.a.createElement(f.a,null,"You are here.")),G&&G.length>0&&G.map((function(e,t){return JSON.stringify(e)!==JSON.stringify(l)&&o.a.createElement(m.a,{key:t,position:e,icon:k},o.a.createElement(f.a,null,"You are here.",o.a.createElement("input",{type:"file",id:"myfile",name:"myfile",onChange:function(e){return console.log(e.target.value)}})))})),o.a.createElement(d.a,{url:"https://{s}.google.com/vt/lyrs=s&x={x}&y={y}&z={z}",maxZoom:20,subdomains:["mt1","mt2","mt3"]}),o.a.createElement(p.a,{color:"#220bb9",positions:G}),O&&O.length>0&&O.map((function(e){return e.latlngs.map((function(e,t){return o.a.createElement(m.a,{key:t,position:e,icon:k},o.a.createElement(f.a,null,"You are here.",o.a.createElement("input",{type:"file",id:"myfile",name:"myfile",onChange:function(e){return console.log(e.target.value)}})))}))})),o.a.createElement(C,{ref:U,position:"topleft",sizeModes:["Current","A4Portrait","A4Landscape"],hideControlContainer:!1}),o.a.createElement(C,{position:"topleft",sizeModes:["Current","A4Portrait","A4Landscape"],hideControlContainer:!1,title:"Export as PNG",exportOnly:!0}),o.a.createElement(b.a,null,o.a.createElement(y.a,{position:"topright",onCreated:function(e){console.log(e);var t=e.layerType,n=e.layer;if("polygon"===t){var a=n._leaflet_id;j((function(e){return[].concat(Object(i.a)(e),[{id:a,latlngs:n.getLatLngs()[0]}])}))}},onEdited:function(e){console.log(e);var t=e.layers._layers;Object.values(t).map((function(e){var t=e._leaflet_id,n=e.editing;return j((function(e){return e.map((function(e){return e.id===t?Object(c.a)(Object(c.a)({},e),{},{latlngs:Object(c.a)({},n.latlngs[0])}):e}))}))}))},onDeleted:function(e){console.log(e);var t=e.layers._layers;Object.values(t).map((function(e){var t=e._leaflet_id;return j((function(e){return e.filter((function(e){return e.id!==t}))}))}))},draw:{rectangle:!0,polyline:!0,circle:!0,circlemarker:!0,marker:!0}}))),o.a.createElement("div",{className:"row-info"},o.a.createElement("pre",{className:"text-left"},JSON.stringify(O,0,2)),o.a.createElement("div",null,o.a.createElement("button",{type:"submit",className:"button-get-location button-unmove",onClick:function(){alert("Stop moving!"),clearTimeout(Y.current)}},"Stop moving"),o.a.createElement("button",{type:"submit",className:"button-get-location button-moving",onClick:function(){alert("Start moving!"),J(!0)}},"Start moving"),o.a.createElement("button",{type:"submit",className:"button-get-location",onClick:function(){e.loaded&&!e.error?(R.current.leafletElement.flyTo([e.coordinates.lat,e.coordinates.lng],15,{animate:!0}),r({lat:e.coordinates.lat,lng:e.coordinates.lng})):alert(e.error.message)}},"Get my location"))))},N=function(){return o.a.createElement(x,null)},A=document.getElementById("root");r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(N,null)),A)}},[[45,1,2]]]);
//# sourceMappingURL=main.3e9a0acb.chunk.js.map