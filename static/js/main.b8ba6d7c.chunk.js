(this["webpackJsonpreact-leaflet-draw-only-one-shape"]=this["webpackJsonpreact-leaflet-draw-only-one-shape"]||[]).push([[0],{157:function(e,t,n){e.exports=n(240)},163:function(e,t,n){},239:function(e,t,n){e.exports=n.p+"static/media/engineer.f8a39b5d.svg"},240:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),o=n(28),r=n.n(o),c=(n(162),n(163),n(111)),i=n(120),u=n(42),s=n(46),m=n.n(s),f=n(11),g=n(126),d=n(127),p=n(129),b=n(130),E=n(128),v=n(124),y=n(125),h=(n(122),n(164),n(165),n(153)),O=n(144),j=n.n(O),S=n(145),C=function(e){var t=e.mapLayers,n=e.onStopMoving,a=e.onStartMoving,o=e.onShow;return l.a.createElement("div",{className:"row-info"},l.a.createElement("pre",{className:"text-left"},JSON.stringify(t,0,2)),l.a.createElement("div",null,l.a.createElement("button",{type:"submit",className:"button-get-location button-unmove",onClick:n},"Stop moving"),l.a.createElement("button",{type:"submit",className:"button-get-location button-moving",onClick:a},"Start moving"),l.a.createElement("button",{type:"submit",className:"button-get-location",onClick:o},"Get my location")))},k=n(244),w=n(243),N=n(245),x=n(242),M=n(246),A=n(59),T=function(e){var t=e.isModalVisible,n=e.iniStyle,a=e.onCancel,o=e.onChangeStyle;return l.a.createElement(l.a.Fragment,null,l.a.createElement(k.a,{title:"Choose Options",visible:t,onCancel:a,footer:!1},l.a.createElement(w.a,{name:"basic",labelCol:{span:8},wrapperCol:{span:16},onFinish:function(e){o(e)},autoComplete:"off",initialValues:n},l.a.createElement(w.a.Item,{label:"Color",name:"color"},l.a.createElement(N.a.Group,null,l.a.createElement(N.a,{value:"#ff0000"},"Red"),l.a.createElement(N.a,{value:"#52c41a"},"Green"),l.a.createElement(N.a,{value:"#0059ff"},"Blue"),l.a.createElement(N.a,{value:"#faad14"},"Yeallow"))),l.a.createElement(w.a.Item,{label:"Time check",name:"time"},l.a.createElement(x.a,{showNow:!1,format:"mm:ss"})),l.a.createElement(w.a.Item,{wrapperCol:{offset:{sm:24,md:8,lg:6},span:16}},l.a.createElement(M.b,null,l.a.createElement(A.a,{onClick:a},"Cancle"),l.a.createElement(A.a,{type:"primary",htmlType:"submit"},"Submit"))))))},_=n(7),z=n.n(_),L=z.a.icon({iconSize:[25,41],iconAnchor:[10,41],popupAnchor:[2,-40],iconUrl:"https://unpkg.com/leaflet@1.6/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.6/dist/images/marker-shadow.png"}),G=new z.a.Icon({iconUrl:n(239),iconSize:[37,45],iconAnchor:[17,46],popupAnchor:[2,-40]});var I=function(){var e=Object(a.useState)({loaded:!1,coordinates:{lat:"",lng:""}}),t=Object(u.a)(e,2),n=t[0],l=t[1],o=function(e){l({loaded:!0,coordinates:{lat:e.coords.latitude,lng:e.coords.longitude}})},r=function(e){l({loaded:!0,error:{code:e.code,message:e.message}})};return Object(a.useEffect)((function(){"geolocation"in navigator||r({code:0,message:"Geolocation not supported"}),navigator.geolocation.getCurrentPosition(o,r)}),[]),n},J=[{lat:16.0742517,lng:108.2186261},{lat:16.07414,lng:108.217333},{lat:16.074088,lng:108.216818},{lat:16.073934,lng:108.216174},{lat:16.073851,lng:108.21525},{lat:16.073665,lng:108.214813},{lat:16.073542,lng:108.21393},{lat:16.072284,lng:108.213139},{lat:16.071665,lng:108.213246},{lat:16.07216,lng:108.216842},{lat:16.072428,lng:108.218439},{lat:16.072773,lng:108.220883},{lat:16.072773,lng:108.220883},{lat:16.074835,lng:108.220603},{lat:16.0742517,lng:108.2186261}],P=Object(f.d)(j.a),R=function(){var e=I(),t=Object(S.usePosition)(),n=t.latitude,o=t.longitude,r=t.error,s=Object(a.useState)({lat:51.51,lng:-.06}),f=Object(u.a)(s,2),O=f[0],j=f[1],k=Object(a.useState)([]),w=Object(u.a)(k,2),N=w[0],x=w[1],M=Object(a.useState)(0),A=Object(u.a)(M,2),_=A[0],z=A[1],R=Object(a.useState)(!1),U=Object(u.a)(R,2),V=U[0],Y=U[1],B=Object(a.useState)([]),F=Object(u.a)(B,2),D=F[0],Z=F[1],q=Object(a.useState)(!1),H=Object(u.a)(q,2),K=H[0],Q=H[1],W=Object(a.useState)({color:"#ff0000",time:m()("00:10","mm:ss")}),X=Object(u.a)(W,2),$=X[0],ee=X[1],te=Object(a.useRef)(),ne=Object(a.useRef)(),ae=Object(a.useRef)();Object(a.useEffect)((function(){var e=1e3*function(e){var t=e.split(":"),n=Object(u.a)(t,2),a=n[0],l=n[1];return 60*Number(a)+Number(l)}(m()($.time).format("mm:ss"));return console.log("timeCheck",e),"number"===typeof _&&V&&(ae.current=setTimeout((function(){z((function(e){return e+1e4}))}),e)),function(){clearTimeout(ae.current)}})),Object(a.useEffect)((function(){if(n&&o&&!r){if(console.log("latitude",n),console.log("longitude",o),console.log("count",_),!V)return;var e=[],t=_/1e4;if(console.log("indexLocation",t),0===_)e.push(J[_]);else{if(t>=J.length)return Y(!1),clearTimeout(ae.current);e.push(J[t])}Z([].concat(e,Object(i.a)(D)))}}),[_,V]),Object(a.useEffect)((function(){e.loaded&&e.error||j({lat:e.coordinates.lat,lng:e.coordinates.lng})}),[e]);return l.a.createElement("div",null,l.a.createElement(g.a,{center:{lat:51.51,lng:-.06},zoom:16,ref:te,style:{height:"50vh"}},l.a.createElement(d.a,{position:O,icon:L},l.a.createElement(p.a,null,"You are here.")),l.a.createElement(b.a,{url:"https://{s}.google.com/vt/lyrs=s&x={x}&y={y}&z={z}",maxZoom:20,subdomains:["mt1","mt2","mt3"]}),l.a.createElement(E.a,{color:$.color,positions:D}),D&&D.length>0&&D.map((function(e,t){return JSON.stringify(e)!==JSON.stringify(O)&&l.a.createElement(v.a,{key:t,center:e,fill:!0,color:$.color,radius:3},l.a.createElement(p.a,null,l.a.createElement("b",null,"lat:")," ",null===e||void 0===e?void 0:e.lat," ",l.a.createElement("br",null),l.a.createElement("b",null,"lng:")," ",null===e||void 0===e?void 0:e.lng," ",l.a.createElement("br",null)))})),N&&N.length>0&&N.map((function(e){return e.latlngs.map((function(e,t){return l.a.createElement(d.a,{key:t,position:e,icon:G},l.a.createElement(p.a,null,"You are here.",l.a.createElement("input",{type:"file",id:"myfile",name:"myfile",onChange:function(e){return console.log(e.target.value)}})))}))})),l.a.createElement(P,{ref:ne,position:"topleft",sizeModes:["Current","A4Portrait","A4Landscape"],hideControlContainer:!1}),l.a.createElement(P,{position:"topleft",sizeModes:["Current","A4Portrait","A4Landscape"],hideControlContainer:!1,title:"Export as PNG",exportOnly:!0}),l.a.createElement(y.a,null,l.a.createElement(h.a,{position:"topright",onCreated:function(e){console.log(e);var t=e.layerType,n=e.layer;if("polygon"===t){var a=n._leaflet_id;x((function(e){return[].concat(Object(i.a)(e),[{id:a,latlngs:n.getLatLngs()[0]}])}))}},onEdited:function(e){console.log(e);var t=e.layers._layers;Object.values(t).map((function(e){var t=e._leaflet_id,n=e.editing;return x((function(e){return e.map((function(e){return e.id===t?Object(c.a)(Object(c.a)({},e),{},{latlngs:Object(c.a)({},n.latlngs[0])}):e}))}))}))},onDeleted:function(e){console.log(e);var t=e.layers._layers;Object.values(t).map((function(e){var t=e._leaflet_id;return x((function(e){return e.filter((function(e){return e.id!==t}))}))}))},draw:{rectangle:!0,polyline:!0,circle:!1,circlemarker:!1,marker:!1}}))),l.a.createElement(C,{mapLayers:N,onStopMoving:function(){alert("Stop moving!"),clearTimeout(ae.current)},onStartMoving:function(){Q(!0)},onShow:function(){e.loaded&&!e.error?(te.current.leafletElement.flyTo([e.coordinates.lat,e.coordinates.lng],16,{animate:!0}),j({lat:e.coordinates.lat,lng:e.coordinates.lng})):alert(e.error.message)}}),l.a.createElement(T,{isModalVisible:K,onCancel:function(){Q(!1)},iniStyle:$,onChangeStyle:function(e){ee(e),Q(!1),Y(!0)}}))},U=function(){return l.a.createElement(R,null)},V=document.getElementById("root");r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(U,null)),V)}},[[157,1,2]]]);
//# sourceMappingURL=main.b8ba6d7c.chunk.js.map